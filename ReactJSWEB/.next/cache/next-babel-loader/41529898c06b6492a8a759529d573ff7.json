{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\project\\\\ReactJSWEB\\\\pages\\\\dashboard.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport AdminLayout from \"../components/AdminLayout\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Paper } from \"@material-ui/core\";\nimport AcUnitIcon from \"@material-ui/icons/AcUnit\";\nimport MyChart from \"../helpers/myChart\";\nimport { blueM, greenM, pinkM, redM } from \"../helpers/mainHelpers\";\nimport { auth, db } from \"../helpers/firebase\";\nimport { Chart, PieSeries, Title } from '@devexpress/dx-react-chart-material-ui';\nimport { Animation, Palette } from '@devexpress/dx-react-chart';\nexport default function Dashboard() {\n  const router = useRouter();\n  const {\n    0: nMode,\n    1: setNMode\n  } = useState(true);\n  const {\n    0: userId,\n    1: setUserId\n  } = useState(\"\");\n  const {\n    0: WON,\n    1: setWON\n  } = useState([]);\n  const {\n    0: countWON,\n    1: setcountWON\n  } = useState(\"\");\n  const {\n    0: LOST,\n    1: setLOST\n  } = useState([]);\n  const {\n    0: countLOST,\n    1: setcountLOST\n  } = useState(\"\");\n  const {\n    0: OPEN,\n    1: setOPEN\n  } = useState([]);\n  const {\n    0: countOPEN,\n    1: setcountOPEN\n  } = useState(\"\"); // const [data, setData] = useState([\n  //     {\n  //         date: '1', wins: 2, loss: 2, new: 1,\n  //     }, {\n  //         date: '2', wins: 3, loss: 3, new: 3,\n  //     }, {\n  //         date: '3', wins: 5, loss: 1, new: 2,\n  //     }, {\n  //         date: '4', wins: 6, loss: 2, new: 4,\n  //     }, {\n  //         date: '5', wins: 5, loss: 4, new: 2,\n  //     }, {\n  //         date: '6', wins: 7, loss: 5, new: 5,\n  //     }, {\n  //         date: '7', wins: 10, loss: 4, new: 7,\n  //     }]);\n\n  useEffect(() => {\n    db.collection(\"leads\").where(\"result\", \"==\", \"Won\").get().then(querySnapshot => {\n      let WONArr = [];\n      querySnapshot.forEach(docTasks => {\n        let WON = docTasks.data();\n        WON.id = docTasks.id;\n        WONArr.push(WON); // doc.data() is never undefined for query doc snapshots\n\n        console.log(docTasks.id, \" => \", docTasks.data());\n      });\n      setWON(WONArr);\n      setcountWON(WONArr.length);\n      console.log(WONArr);\n      console.log(WONArr.length);\n    }).catch(error => {\n      console.log(\"Error getting documents: \", error);\n    });\n    db.collection(\"leads\").where(\"result\", \"==\", \"Lost\").get().then(querySnapshot => {\n      let LOSTArr = [];\n      querySnapshot.forEach(docTasks => {\n        let LOST = docTasks.data();\n        LOST.id = docTasks.id;\n        LOSTArr.push(LOST); // doc.data() is never undefined for query doc snapshots\n\n        console.log(docTasks.id, \" => \", docTasks.data());\n      });\n      setLOST(LOSTArr);\n      setcountLOST(LOSTArr.length);\n      console.log(LOSTArr);\n      console.log(LOSTArr.length);\n    }).catch(error => {\n      console.log(\"Error getting documents: \", error);\n    });\n    db.collection(\"leads\").where(\"result\", \"==\", \"Open\").get().then(querySnapshot => {\n      let OPENArr = [];\n      querySnapshot.forEach(docTasks => {\n        let OPEN = docTasks.data();\n        OPEN.id = docTasks.id;\n        OPENArr.push(OPEN); // doc.data() is never undefined for query doc snapshots\n\n        console.log(docTasks.id, \" => \", docTasks.data());\n      });\n      setOPEN(OPENArr);\n      setcountOPEN(OPENArr.length);\n      console.log(OPENArr);\n      console.log(OPENArr.length);\n    }).catch(error => {\n      console.log(\"Error getting documents: \", error);\n    }); // db.collection(\"tasks\").where(\"status\", \"==\", \"Not completed\").where(\"date\", \">\", new Date()).where(\"type\",\"==\",\"Call\")\n    // .get()\n    // .then((querySnapshot) => {\n    //   let callTaskArr= [];\n    //     querySnapshot.forEach((docTasks) => {\n    //         let calltasks = docTasks.data();\n    //         calltasks.id = docTasks.id;\n    //         calltasks.mytype=\"Call\";\n    //         callTaskArr.push(calltasks);\n    //         // doc.data() is never undefined for query doc snapshots\n    //         console.log(docTasks.id, \" => \", docTasks.data());\n    //     });\n    //     setcallTasks(callTaskArr);\n    //     setcountcallTasks(callTaskArr.length)\n    //     console.log(callTaskArr);\n    //     console.log(callTaskArr.length);\n    // })\n    // .catch((error) => {\n    //     console.log(\"Error getting documents: \", error);\n    // });\n  }, []);\n  const {\n    0: data,\n    1: setData\n  } = useState([{\n    state: 'Open',\n    amount: countOPEN,\n    color: \"#d72e3d\"\n  }, {\n    state: 'Lose',\n    amount: countLOST,\n    color: \"#d72e3d\"\n  }, {\n    state: 'Win',\n    amount: countWON,\n    color: \"#d72e3d\"\n  }]);\n  return /*#__PURE__*/_jsxDEV(AdminLayout, {\n    setNMode: setNMode,\n    setUserId: setUserId,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      style: {\n        color: \"grey\",\n        marginTop: 15,\n        marginBottom: 20\n      },\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 0,\n      justify: \"space-evenly\",\n      style: {\n        paddingRight: 30\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          style: {\n            backgroundColor: pinkM,\n            padding: 20,\n            color: \"#fff\",\n            marginRight: 15\n          },\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(AcUnitIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: \"h2\",\n                style: {\n                  textAlign: \"right\"\n                },\n                children: \"Wins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h4\",\n                component: \"h2\",\n                style: {\n                  textAlign: \"right\"\n                },\n                children: countWON\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          style: {\n            backgroundColor: blueM,\n            padding: 20,\n            color: \"#fff\",\n            marginRight: 15\n          },\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(AcUnitIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: \"h2\",\n                style: {\n                  textAlign: \"right\"\n                },\n                children: \"Losses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h4\",\n                component: \"h2\",\n                style: {\n                  textAlign: \"right\"\n                },\n                children: countLOST\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          style: {\n            backgroundColor: redM,\n            padding: 20,\n            color: \"#fff\",\n            marginRight: 15\n          },\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(AcUnitIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: \"h2\",\n                style: {\n                  textAlign: \"right\"\n                },\n                children: \"Open\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h4\",\n                component: \"h2\",\n                style: {\n                  textAlign: \"right\"\n                },\n                children: countOPEN\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 0,\n      justify: \"space-evenly\",\n      style: {\n        paddingRight: 30,\n        paddingTop: 30,\n        alignItems: \"stretch\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 7,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          children: /*#__PURE__*/_jsxDEV(Chart, {\n            data: data,\n            children: [/*#__PURE__*/_jsxDEV(PieSeries, {\n              valueField: \"amount\",\n              argumentField: \"state\" // pointComponent={green}\n              //innerRadius={0.6}\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Title, {\n              text: \"Overall statistic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Animation, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["D:/project/ReactJSWEB/pages/dashboard.js"],"names":["React","useState","useEffect","useRouter","AdminLayout","Typography","Grid","Paper","AcUnitIcon","MyChart","blueM","greenM","pinkM","redM","auth","db","Chart","PieSeries","Title","Animation","Palette","Dashboard","router","nMode","setNMode","userId","setUserId","WON","setWON","countWON","setcountWON","LOST","setLOST","countLOST","setcountLOST","OPEN","setOPEN","countOPEN","setcountOPEN","collection","where","get","then","querySnapshot","WONArr","forEach","docTasks","data","id","push","console","log","length","catch","error","LOSTArr","OPENArr","setData","state","amount","color","marginTop","marginBottom","paddingRight","backgroundColor","padding","marginRight","textAlign","paddingTop","alignItems"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react';\r\nimport { useRouter } from 'next/router'\r\nimport AdminLayout from \"../components/AdminLayout\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {Paper} from \"@material-ui/core\";\r\nimport AcUnitIcon from \"@material-ui/icons/AcUnit\";\r\nimport MyChart from \"../helpers/myChart\";\r\nimport {blueM, greenM, pinkM, redM} from \"../helpers/mainHelpers\";\r\nimport {auth, db} from \"../helpers/firebase\";\r\n\r\n\r\nimport {\r\n    Chart,\r\n    PieSeries,\r\n    Title,\r\n  } from '@devexpress/dx-react-chart-material-ui';\r\n  \r\nimport { Animation, Palette } from '@devexpress/dx-react-chart';\r\n  \r\n\r\nexport default function Dashboard() {\r\n    const router = useRouter();\r\n    const [nMode, setNMode] = useState(true);\r\n    const [userId, setUserId] = useState(\"\");\r\n\r\n  const [WON,setWON]=useState([]);\r\n  const [countWON,setcountWON]=useState(\"\");\r\n\r\n  const [LOST,setLOST]=useState([]);\r\n  const [countLOST,setcountLOST]=useState(\"\");\r\n\r\n  const [OPEN,setOPEN]=useState([]);\r\n  const [countOPEN,setcountOPEN]=useState(\"\");\r\n\r\n \r\n\r\n    // const [data, setData] = useState([\r\n    //     {\r\n    //         date: '1', wins: 2, loss: 2, new: 1,\r\n    //     }, {\r\n    //         date: '2', wins: 3, loss: 3, new: 3,\r\n    //     }, {\r\n    //         date: '3', wins: 5, loss: 1, new: 2,\r\n    //     }, {\r\n    //         date: '4', wins: 6, loss: 2, new: 4,\r\n    //     }, {\r\n    //         date: '5', wins: 5, loss: 4, new: 2,\r\n    //     }, {\r\n    //         date: '6', wins: 7, loss: 5, new: 5,\r\n    //     }, {\r\n    //         date: '7', wins: 10, loss: 4, new: 7,\r\n    //     }]);\r\n\r\n    useEffect(() => {\r\n        db.collection(\"leads\").where(\"result\", \"==\", \"Won\")\r\n        .get()\r\n        .then((querySnapshot) => {\r\n          let WONArr= [];\r\n            querySnapshot.forEach((docTasks) => {\r\n                let WON = docTasks.data();\r\n                WON.id = docTasks.id;\r\n                WONArr.push(WON);\r\n                // doc.data() is never undefined for query doc snapshots\r\n                console.log(docTasks.id, \" => \", docTasks.data());\r\n            });\r\n            setWON(WONArr);\r\n            setcountWON(WONArr.length)\r\n            console.log(WONArr);\r\n            console.log(WONArr.length);\r\n        })\r\n        .catch((error) => {\r\n            console.log(\"Error getting documents: \", error);\r\n        });\r\n\r\n\r\n        db.collection(\"leads\").where(\"result\", \"==\", \"Lost\")\r\n        .get()\r\n        .then((querySnapshot) => {\r\n          let LOSTArr= [];\r\n            querySnapshot.forEach((docTasks) => {\r\n                let LOST = docTasks.data();\r\n                LOST.id = docTasks.id;\r\n                LOSTArr.push(LOST);\r\n                // doc.data() is never undefined for query doc snapshots\r\n                console.log(docTasks.id, \" => \", docTasks.data());\r\n            });\r\n            setLOST(LOSTArr);\r\n            setcountLOST(LOSTArr.length)\r\n            console.log(LOSTArr);\r\n            console.log(LOSTArr.length);\r\n        })\r\n        .catch((error) => {\r\n            console.log(\"Error getting documents: \", error);\r\n        });\r\n    \r\n        db.collection(\"leads\").where(\"result\", \"==\", \"Open\")\r\n        .get()\r\n        .then((querySnapshot) => {\r\n          let OPENArr= [];\r\n            querySnapshot.forEach((docTasks) => {\r\n                let OPEN = docTasks.data();\r\n                OPEN.id = docTasks.id;\r\n                OPENArr.push(OPEN);\r\n                // doc.data() is never undefined for query doc snapshots\r\n                console.log(docTasks.id, \" => \", docTasks.data());\r\n            });\r\n            setOPEN(OPENArr);\r\n            setcountOPEN(OPENArr.length)\r\n            console.log(OPENArr);\r\n            console.log(OPENArr.length);\r\n        })\r\n        .catch((error) => {\r\n            console.log(\"Error getting documents: \", error);\r\n        });\r\n    \r\n        // db.collection(\"tasks\").where(\"status\", \"==\", \"Not completed\").where(\"date\", \">\", new Date()).where(\"type\",\"==\",\"Call\")\r\n        // .get()\r\n        // .then((querySnapshot) => {\r\n        //   let callTaskArr= [];\r\n        //     querySnapshot.forEach((docTasks) => {\r\n        //         let calltasks = docTasks.data();\r\n        //         calltasks.id = docTasks.id;\r\n        //         calltasks.mytype=\"Call\";\r\n                \r\n        //         callTaskArr.push(calltasks);\r\n        //         // doc.data() is never undefined for query doc snapshots\r\n        //         console.log(docTasks.id, \" => \", docTasks.data());\r\n        //     });\r\n        //     setcallTasks(callTaskArr);\r\n        //     setcountcallTasks(callTaskArr.length)\r\n        //     console.log(callTaskArr);\r\n        //     console.log(callTaskArr.length);\r\n        // })\r\n        // .catch((error) => {\r\n        //     console.log(\"Error getting documents: \", error);\r\n        // });\r\n    \r\n    \r\n      },[]);\r\n\r\n     const [data, setData] = useState([\r\n            { state: 'Open', amount: countOPEN,color:\"#d72e3d\" },\r\n            { state: 'Lose', amount: countLOST ,color:\"#d72e3d\"},\r\n            { state: 'Win', amount: countWON ,color:\"#d72e3d\"},\r\n    ]);\r\n\r\n \r\n    return (\r\n        <AdminLayout setNMode={setNMode}  setUserId={setUserId}>\r\n            <Typography variant=\"h5\" gutterBottom style={{color: \"grey\", marginTop:15, marginBottom:20}}>\r\n                Dashboard\r\n            </Typography>\r\n            <Grid container spacing={0} justify=\"space-evenly\" style={{paddingRight:30}}>\r\n                <Grid item xs={4} >\r\n                    <Paper style={{backgroundColor:pinkM, padding:20, color:\"#fff\", marginRight:15}}>\r\n                        <Grid container>\r\n                            <Grid item xs={6}>\r\n                                <AcUnitIcon />\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                                <Typography variant=\"body2\" component=\"h2\" style={{textAlign:\"right\"}}>\r\n                                    Wins\r\n                                </Typography>\r\n                                <Typography variant=\"h4\" component=\"h2\" style={{textAlign:\"right\"}}>\r\n                                    {countWON}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item xs={4} >\r\n                    <Paper style={{backgroundColor:blueM, padding:20, color:\"#fff\", marginRight:15}}>\r\n                        <Grid container>\r\n                            <Grid item xs={6}>\r\n                                <AcUnitIcon />\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                                <Typography variant=\"body2\" component=\"h2\" style={{textAlign:\"right\"}}>\r\n                                    Losses\r\n                                </Typography>\r\n                                <Typography variant=\"h4\" component=\"h2\" style={{textAlign:\"right\"}}>\r\n                                    {countLOST}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                    <Paper style={{backgroundColor:redM, padding:20, color:\"#fff\", marginRight:15}}>\r\n                        <Grid container>\r\n                            <Grid item xs={6}>\r\n                                <AcUnitIcon />\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                                <Typography variant=\"body2\" component=\"h2\" style={{textAlign:\"right\"}}>\r\n                                    Open\r\n                                </Typography>\r\n                                <Typography variant=\"h4\" component=\"h2\" style={{textAlign:\"right\"}}>\r\n                                    {countOPEN}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </Grid>\r\n                {/* <Grid item xs={3} >\r\n                    <Paper style={{backgroundColor:greenM, padding:20, color:\"#fff\", marginRight:15}}>\r\n                        <Grid container>\r\n                            <Grid item xs={6}>\r\n                                <AcUnitIcon />\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                                <Typography variant=\"body2\" component=\"h2\" style={{textAlign:\"right\"}}>\r\n                                    Pending\r\n                                </Typography>\r\n                                <Typography variant=\"h4\" component=\"h2\" style={{textAlign:\"right\"}}>\r\n                                    30\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </Grid> */}\r\n            </Grid>\r\n\r\n            {/* <Grid container spacing={0} justify=\"space-evenly\" style={{paddingRight:30, paddingTop:30, alignItems:\"stretch\"}} >\r\n                <Grid item xs={8} >\r\n                    <Paper style={{backgroundColor:\"rgba(255, 255, 255, 0.1)\", color:\"#fff\", marginRight:15}}>\r\n                        <MyChart data={data} clr={nMode? \"#fff\": \"darkgrey\"}></MyChart>\r\n                    </Paper>\r\n                </Grid> */}\r\n\r\n                <Grid container spacing={0} justify=\"space-evenly\" style={{paddingRight:30, paddingTop:30, alignItems:\"stretch\"}} >\r\n                <Grid item xs={7} >\r\n                <Paper>\r\n                    <Chart\r\n                    data={data}\r\n                    >\r\n                    <PieSeries\r\n                        valueField=\"amount\"\r\n                        argumentField=\"state\"\r\n                        // pointComponent={green}\r\n                        //innerRadius={0.6}\r\n                    />\r\n                    <Title\r\n                        text=\"Overall statistic\"\r\n                    />\r\n                    <Animation />\r\n                    </Chart>\r\n                </Paper>\r\n                </Grid>\r\n\r\n                <Grid item xs={3} >\r\n               \r\n                </Grid>\r\n                {/* <Grid item xs={4} >\r\n                    <Paper style={{backgroundColor:\"rgba(255, 255, 255, 0.1)\", padding:20, color:nMode? \"#fff\": \"darkgrey\", marginRight:15}}>\r\n                        <Typography variant=\"h6\" component=\"h2\">\r\n                            Latest Completed Leads\r\n                        </Typography>\r\n                        <Paper variant=\"outlined\" style={{backgroundColor:\"rgba(225,225,225,0.1)\", color:nMode? \"#fff\": \"darkgrey\", borderColor:\"rgba(225,225,225,0.4)\", marginTop:10, padding:10}}>\r\n                            <Typography variant=\"body2\" component=\"h2\" style={{color:\"#fff\",padding:10, backgroundColor:greenM, width:\"60px\", borderRadius:10, textAlign:\"center\"}}>\r\n                                WIN\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle2\"  style={{color:nMode? \"#fff\": \"darkgrey\", marginTop:5}}>\r\n                                Lead Name:\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle2\" style={{color:nMode? \"#fff\": \"darkgrey\"}}>\r\n                                SalesPerson Name:\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle2\" style={{color:nMode? \"#fff\": \"darkgrey\"}}>\r\n                                Date Completed:\r\n                            </Typography>\r\n                        </Paper>\r\n                        <Paper variant=\"outlined\" style={{backgroundColor:\"rgba(225,225,225,0.1)\", color:nMode? \"#fff\": \"darkgrey\", borderColor:\"rgba(225,225,225,0.4)\", marginTop:10, padding:10}}>\r\n                            <Typography variant=\"body2\" component=\"h2\" style={{color:\"#fff\",padding:10, backgroundColor:redM, width:\"60px\", borderRadius:10, textAlign:\"center\"}}>\r\n                                LOSS\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle2\"  style={{color:nMode? \"#fff\": \"darkgrey\", marginTop:5}}>\r\n                                Lead Name:\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle2\" style={{color:nMode? \"#fff\": \"darkgrey\"}}>\r\n                                SalesPerson Name:\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle2\" style={{color:nMode? \"#fff\": \"darkgrey\"}}>\r\n                                Date Completed:\r\n                            </Typography>\r\n                        </Paper> */}\r\n                        {/* <Paper variant=\"outlined\" style={{backgroundColor:\"rgba(225,225,225,0.1)\", color:nMode? \"#fff\": \"darkgrey\", borderColor:\"rgba(225,225,225,0.4)\", marginTop:10, padding:10}}>\r\n                            <Typography variant=\"body2\" component=\"h2\" style={{color:\"#fff\",padding:10, backgroundColor:greenM, width:\"60px\", borderRadius:10, textAlign:\"center\"}}>\r\n                                WIN\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle2\"  style={{color:nMode? \"#fff\": \"darkgrey\", marginTop:5}}>\r\n                                Lead Name:\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle2\" style={{color:nMode? \"#fff\": \"darkgrey\"}}>\r\n                                SalesPerson Name:\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle2\" style={{color:nMode? \"#fff\": \"darkgrey\"}}>\r\n                                Date Completed:\r\n                            </Typography>\r\n                        </Paper> */}\r\n\r\n                    {/* </Paper>\r\n                </Grid> */}\r\n            </Grid>\r\n        </AdminLayout>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}