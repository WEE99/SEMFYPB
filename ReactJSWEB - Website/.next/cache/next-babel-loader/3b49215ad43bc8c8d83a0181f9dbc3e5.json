{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\project\\\\ReactJSWEB\\\\pages\\\\history.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport AdminLayout from \"../components/AdminLayout\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { MyModal, MySnackBar, MyTable, Userinfo } from \"../helpers/mainHelpers\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport { auth, db, firebase } from \"../helpers/firebase\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Paper, TextField } from \"@material-ui/core\";\nimport AcUnitIcon from \"@material-ui/icons/AcUnit\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport AddIcon from '@material-ui/icons/Add';\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nexport default function History() {\n  const router = useRouter();\n  const {\n    0: columns,\n    1: setColumns\n  } = useState([]);\n  const {\n    0: leads,\n    1: setLeads\n  } = useState([]);\n  const {\n    0: modal,\n    1: setModal\n  } = useState(false);\n  const {\n    0: current,\n    1: setCurrent\n  } = useState({});\n  const {\n    0: dropDown,\n    1: setDropDown\n  } = useState(\"\");\n  const {\n    0: edit,\n    1: setEdit\n  } = useState(false);\n  const {\n    0: snackBar,\n    1: setSnackbar\n  } = useState(false);\n  const {\n    0: severity,\n    1: setSeverity\n  } = useState(\"info\");\n  const {\n    0: message,\n    1: setMessage\n  } = useState(\"\");\n  const {\n    0: nMode,\n    1: setNMode\n  } = useState(true);\n  const {\n    0: photo,\n    1: setPhoto\n  } = useState(\"\");\n  const {\n    0: numLeads,\n    1: setNumLeads\n  } = useState(\"\");\n  const {\n    0: address,\n    1: setAddress\n  } = useState(\"\");\n  const {\n    0: phoneNum,\n    1: setPhoneNum\n  } = useState(\"\");\n  const {\n    0: userId,\n    1: setUserId\n  } = useState(\"\");\n  const {\n    0: company,\n    1: setCompany\n  } = useState(\"\");\n  const {\n    0: comment,\n    1: setComment\n  } = useState(\"\");\n  const {\n    0: contactNum,\n    1: setContactNum\n  } = useState(\"\");\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: interest,\n    1: setInterest\n  } = useState(\"\");\n  const {\n    0: name,\n    1: setName\n  } = useState(\"\");\n  const {\n    0: quote,\n    1: setQuote\n  } = useState(\"\");\n  const {\n    0: salespersonId,\n    1: setSalespersonId\n  } = useState(\"\");\n  useEffect(() => {\n    setColumns([{\n      title: 'ID',\n      field: 'leadsid'\n    }, {\n      title: 'Leads Name',\n      field: 'leadsname'\n    }, {\n      title: 'Date',\n      field: \"date\"\n    }, // { title: 'Handler', field: 'name'},\n    {\n      title: 'Status',\n      field: \"Status\"\n    }]);\n    console.log(auth.currentUser);\n\n    if (userId !== \"\") {\n      // db.collection(\"leads\").where(\"adminID\", \"==\",userId)\n      db.collection(\"Tracking\").get().then(querySnapshot => {\n        let TrackingArr = [];\n        querySnapshot.forEach(function (doc) {\n          let r = doc.data();\n          r.id = doc.id;\n          TrackingArr.push(r);\n        });\n        setLeads(TrackingArr);\n      });\n    }\n  }, [userId]);\n  return /*#__PURE__*/_jsxDEV(AdminLayout, {\n    setNMode: setNMode,\n    setUserId: setUserId,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      justify: \"space-between\",\n      style: {\n        marginTop: 10,\n        marginBottom: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 10,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          style: {\n            color: \"grey\",\n            marginTop: 15\n          },\n          children: \"History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 11,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          style: {\n            backgroundColor: \"rgba(255, 255, 255, 0)\",\n            marginBottom: 20\n          },\n          variant: \"outlined\",\n          children: leads.length !== 0 && /*#__PURE__*/_jsxDEV(MyTable, {\n            title: \"\",\n            columns: columns,\n            data: leads,\n            SColor: nMode ? \"#fff\" : \"grey\" // actions={[\n            //     {\n            //         icon: () => <Edit style={{color:nMode?\"#fff\":\"grey\"}}/>,\n            //         tooltip: 'Edit/View Lead',\n            //         onClick: (event, rowData) => {\n            //             handleEdit(rowData)\n            //         }\n            //     }\n            // ]} \n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["D:/project/ReactJSWEB/pages/history.js"],"names":["React","useEffect","useState","useRouter","AdminLayout","Typography","MyModal","MySnackBar","MyTable","Userinfo","Edit","auth","db","firebase","Grid","Paper","TextField","AcUnitIcon","IconButton","AddIcon","Button","Avatar","History","router","columns","setColumns","leads","setLeads","modal","setModal","current","setCurrent","dropDown","setDropDown","edit","setEdit","snackBar","setSnackbar","severity","setSeverity","message","setMessage","nMode","setNMode","photo","setPhoto","numLeads","setNumLeads","address","setAddress","phoneNum","setPhoneNum","userId","setUserId","company","setCompany","comment","setComment","contactNum","setContactNum","email","setEmail","interest","setInterest","name","setName","quote","setQuote","salespersonId","setSalespersonId","title","field","console","log","currentUser","collection","get","then","querySnapshot","TrackingArr","forEach","doc","r","data","id","push","marginTop","marginBottom","color","backgroundColor","length"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { useRouter } from 'next/router'\r\nimport AdminLayout from \"../components/AdminLayout\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {MyModal, MySnackBar, MyTable, Userinfo} from \"../helpers/mainHelpers\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport {auth, db,firebase} from \"../helpers/firebase\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {Paper, TextField} from \"@material-ui/core\";\r\nimport AcUnitIcon from \"@material-ui/icons/AcUnit\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\n\r\n\r\n\r\nexport default function History() {\r\n    const router = useRouter();\r\n    const [columns, setColumns] = useState([]);\r\n    const [leads, setLeads] = useState([]);\r\n    const [modal, setModal] = useState(false);\r\n    const [current, setCurrent] = useState({});\r\n    const [dropDown, setDropDown] = useState(\"\");\r\n    const [edit, setEdit] = useState(false);\r\n    const [snackBar, setSnackbar] = useState(false);\r\n    const [severity, setSeverity] = useState(\"info\");\r\n    const [message, setMessage] = useState(\"\");\r\n    const [nMode, setNMode] = useState(true);\r\n\r\n    const [photo, setPhoto] = useState(\"\");\r\n\r\n    const [numLeads, setNumLeads] = useState(\"\");\r\n    const [address, setAddress] = useState(\"\");\r\n    const [phoneNum, setPhoneNum] = useState(\"\");\r\n    const [userId, setUserId] = useState(\"\");\r\n\r\n    const [company, setCompany] = useState(\"\");\r\n    const [comment, setComment] = useState(\"\");\r\n    const [contactNum, setContactNum] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [interest, setInterest] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n\r\n    const [quote, setQuote] = useState(\"\");\r\n\r\n\r\n    const [salespersonId, setSalespersonId] = useState(\"\");\r\n\r\n\r\n    useEffect(() => {\r\n    \r\n        setColumns([\r\n            { title: 'ID', field: 'leadsid' },\r\n            { title: 'Leads Name', field: 'leadsname'},\r\n            { title: 'Date', field: \"date\"},\r\n            // { title: 'Handler', field: 'name'},\r\n            { title: 'Status', field:\"Status\"},\r\n           \r\n        ])\r\n        console.log(auth.currentUser)\r\n        if(userId!==\"\"){\r\n        // db.collection(\"leads\").where(\"adminID\", \"==\",userId)\r\n        db.collection(\"Tracking\")\r\n        .get()\r\n        .then((querySnapshot) => {\r\n                let TrackingArr = [];\r\n                querySnapshot.forEach(function(doc) {\r\n                    let r = doc.data();\r\n                    r.id = doc.id;\r\n                    TrackingArr.push(r);\r\n                });\r\n                setLeads(TrackingArr);\r\n            });\r\n        }\r\n    },[userId])\r\n\r\n   \r\n\r\n    return (\r\n        <AdminLayout setNMode={setNMode} setUserId={setUserId}>\r\n            <Grid container justify={\"space-between\"} style={{marginTop:10, marginBottom:10}}>\r\n                <Grid item xs={10}>\r\n                    <Typography variant=\"h5\" gutterBottom style={{color: \"grey\", marginTop: 15}}>\r\n                        History\r\n                    </Typography>\r\n                </Grid>\r\n                {/* <Grid item xs={2} style={{justifyItems:\"flex-end\", justifyContent:\"flex-end\"}}>\r\n                    <IconButton onClick={openEditor} style={{marginTop: 8, backgroundColor:\"#f50057\", color:\"#fff\", borderRadius:5, marginLeft:40}}>\r\n                        <AddIcon />\r\n                    </IconButton>\r\n                </Grid> */}\r\n            </Grid>\r\n            <Grid container>\r\n                <Grid item xs={11}>\r\n                    <Paper style={{backgroundColor:\"rgba(255, 255, 255, 0)\", marginBottom:20}} variant=\"outlined\" >\r\n                        {leads.length !==0 && <MyTable title=\"\" columns={columns} data={leads} SColor={nMode?\"#fff\":\"grey\"}\r\n                        // actions={[\r\n                        //     {\r\n                        //         icon: () => <Edit style={{color:nMode?\"#fff\":\"grey\"}}/>,\r\n                        //         tooltip: 'Edit/View Lead',\r\n                        //         onClick: (event, rowData) => {\r\n                        //             handleEdit(rowData)\r\n                        //         }\r\n                        //     }\r\n                        // ]} \r\n\r\n\r\n                        />}\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n           \r\n           \r\n\r\n        </AdminLayout>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}